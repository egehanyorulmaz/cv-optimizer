Your task is to extract key information from a job description and structure it into a JSON object that conforms to a predefined schema. You must adhere to the specified data types and formats.

### Input Job Description ###

{{ input_text }}

### Extraction Rules ###

1. **Company Name:** Extract the full name of the company offering the job. If the company name is not explicitly stated, use an empty string "".
2. **Title:** Extract the exact job title as it appears in the description.
3. **Location:** Identify the location of the job. This could be a city, state, country, or "Remote". If multiple locations are mentioned, list them all. If no location is specified, use an empty string "".
4. **Work Arrangement:**
    * Identify if the job specifies remote, hybrid, or in-office work
    * If explicitly stated, classify as:
        - "remote" for fully remote positions
        - "hybrid" for mixed remote/office arrangements
        - "in_office" for fully office-based positions
    * If not explicitly stated:
        - Set work_arrangement to null
        - Do not make assumptions about the work arrangement type
    * Include any relevant details about schedule, office visits, or time zone requirements in the description
5. **Description:** Provide a concise summary of the job's responsibilities and purpose.
6. **Benefits:**
    *   Identify specific job benefits offered.
    *   Classify each benefit into one of the following types: "health_insurance", "retirement_fund", "stock_options", "bonus", or "other".
    *   If a benefit type doesn't fit the predefined categories, use "other".
    *   Provide a brief description of each benefit.
    *   If no benefits are mentioned, return an empty list \[\].
7. **Tech Stack:**
    *   List the technologies, programming languages, frameworks, and tools mentioned in the job description.
    *   Provide a brief description of how each technology is used or the context in which it is mentioned.
    *   If no technologies are mentioned, return an empty list \[\].
    *   When multiple technologies are mentioned together:
        - If they are presented as alternatives (using "or"), choose the one that:
            * Appears most frequently in the job description
            * Is mentioned first in the list
            * Is more closely aligned with other required technologies
        - If they are complementary (using "and"), list them separately
        - If they are part of the same technology stack (e.g., "TensorFlow/Keras"), list the primary technology
    *   Determine the priority of each technology:
        - Mark as "required" if:
            * It's explicitly listed as required
            * It's mentioned in core job responsibilities
            * It's listed under minimum qualifications
            * It's the primary technology in a group of alternatives
            * If it's mentioned with Strong background in XXX
        - Mark as "nice_to_have" if:
            * It's listed under preferred qualifications
            * It's mentioned as an alternative
            * It's part of optional skills
    *   For each technology, include:
        - Whether it's a primary or alternative choice
        - Its relationship to other technologies
        - Its specific use case in the role
        - Required years of experience if specified (as a number), or null if not specified
8. **Requirements:**
    *   Identify the required and preferred skills, qualifications, and experience.
    *   Classify each requirement as either "required" or "nice\_to\_have".
    *   If a requirement's type is not explicitly stated, infer it from the context (e.g., "must have" implies "required").
    *   Years of experience should be a number, or null if not specified. +5, +7, +10, etc. years must be converted to a number.
    *   Provide a brief description of each requirement.
    *   If no requirements are mentioned, return an empty list \[\].
9. **Edge Cases:**
    *   **Ambiguous Information:** If the job description is unclear or information is presented in an unusual format, make a reasonable interpretation based on the available context.
    *   **Missing Information:** If a particular field is not mentioned in the job description, use an empty string "" for strings, or an empty list \[ ] for lists. Do not make assumptions or add information not present in the text.
10. **Output Format:**
    *   Strictly adhere to the JSON format provided below.
    *   Ensure all fields are present, even if they are empty.
    *   Return a valid JSON object only.

### Expected Output Format ###
json
{
    "company_name": "",
    "title": "",
    "location": "",
    "description": "",
    "salary_range": {
        "min": 0.0,
        "max": 0.0,
        "currency": ""
    },
    "work_arrangement": {
        "work_arrangement_type": "", # "remote", "hybrid", "in_office" or null
        "work_arrangement_description": ""
    },
    "benefits": [
        {
            "benefit_type": "",
            "benefit_description": ""
        }
    ],
    "tech_stack": [
        {
            "tech_type": "",
            "tech_description": "",
            "required_years_of_experience": null, # number or null
            "priority": "" # "required" or "nice_to_have"
        }
    ],
    "requirements": [
        {
            "requirement_type": "", # "required" or "nice_to_have"
            "required_years_of_experience": null, # number or null
            "requirement_description": ""
        }
    ]
}


### Example Input ###

Senior Machine Learning Engineer / AI Developer

About Us:
TechVision AI (a subsidiary of Global Innovations Corp.) is revolutionizing the healthcare industry through cutting-edge AI solutions. We're seeking an exceptional Senior ML Engineer to join our Healthcare AI division, with flexibility to work from our offices in Boston, MA / San Francisco, CA, or remotely for US-based candidates (hybrid options available with 2 days/week in office).

Base Salary Range: $150,000 - $220,000 USD annually + Competitive Benefits Package

Core Responsibilities:
* Lead the development and deployment of production-ready machine learning models
* Collaborate with cross-functional teams to identify and implement AI solutions
* Mentor junior team members and contribute to architectural decisions
* Optimize model performance and ensure scalability of ML systems

Required Qualifications:
* Master's degree in Computer Science, Machine Learning, or related field (Ph.D. preferred)
* 7+ years of hands-on experience in machine learning and software development
* Strong background in PyTorch or TensorFlow/Keras (must know at least one framework deeply)
* Expertise in Python and experience with either Java/Scala for production systems
* Track record of deploying ML models to production using MLOps practices

Nice-to-Have Skills:
* Experience with AWS/GCP/Azure ML services
* Knowledge of React.js/Node.js for full-stack development
* Background in healthcare or medical imaging
* Familiarity with Kubernetes/Docker and CI/CD pipelines
* Experience with distributed computing frameworks (Spark/Dask)

Benefits & Perks:
* Comprehensive health, dental, and vision coverage (100% premium covered)
* 401(k) with 6% company match
* Annual performance bonus (up to 20% of base salary)
* Stock options and RSU grants
* $5,000 annual learning & development budget
* Flexible PTO policy
* Monthly wellness stipend ($100)
* Home office setup allowance ($2,500)

Work Environment:
We offer a flexible hybrid arrangement. Remote employees must be available during core hours (10 AM - 3 PM EST) and should expect to travel to our Boston or SF office quarterly for team meetings. Hybrid employees can choose which 2 days to work from the office.

Tech Stack:
* Primary ML Framework: PyTorch (required), TensorFlow (nice-to-have)
* Programming: Python (required), Java/Scala (at least one required)
* Cloud: AWS SageMaker and EC2 (required), GCP (nice-to-have)
* MLOps: Docker, Kubernetes, Jenkins, GitLab CI
* Monitoring: Prometheus/Grafana
* Data Processing: Spark, Kafka

### Example Output ###
json
{
    "company_name": "TechVision AI",
    "title": "Senior Machine Learning Engineer / AI Developer",
    "location": "Boston, MA / San Francisco, CA",
    "description": "Lead the development and deployment of production-ready machine learning models in the healthcare industry, collaborate with cross-functional teams, mentor junior members, and optimize ML systems performance and scalability.",
    "salary_range": {
        "min": 150000.0,
        "max": 220000.0,
        "currency": "USD"
    },
    "work_arrangement": {
        "work_arrangement_type": "hybrid",
        "work_arrangement_description": "Flexible hybrid arrangement with 2 days/week in office. Remote employees must be available during core hours (10 AM - 3 PM EST) with quarterly office visits."
    },
    "benefits": [
        {
            "benefit_type": "health_insurance",
            "benefit_description": "Comprehensive health, dental, and vision coverage (100% premium covered)"
        },
        {
            "benefit_type": "retirement_fund",
            "benefit_description": "401(k) with 6% company match"
        },
        {
            "benefit_type": "bonus",
            "benefit_description": "Annual performance bonus up to 20% of base salary"
        },
        {
            "benefit_type": "stock_options",
            "benefit_description": "Stock options and RSU grants"
        },
        {
            "benefit_type": "other",
            "benefit_description": "$5,000 annual learning & development budget"
        },
        {
            "benefit_type": "other",
            "benefit_description": "Flexible PTO policy"
        },
        {
            "benefit_type": "other",
            "benefit_description": "Monthly wellness stipend ($100)"
        },
        {
            "benefit_type": "other",
            "benefit_description": "Home office setup allowance ($2,500)"
        }
    ],
    "tech_stack": [
        {
            "tech_type": "PyTorch",
            "tech_description": "Primary ML framework for model development",
            "required_years_of_experience": null,
            "priority": "required"
        },
        {
            "tech_type": "Python",
            "tech_description": "Primary programming language for ML development",
            "required_years_of_experience": null,
            "priority": "required"
        },
        {
            "tech_type": "AWS SageMaker",
            "tech_description": "Cloud platform for ML model deployment",
            "required_years_of_experience": null,
            "priority": "required"
        },
        {
            "tech_type": "Java/Scala",
            "tech_description": "For production systems development",
            "required_years_of_experience": null,
            "priority": "required"
        },
        {
            "tech_type": "TensorFlow",
            "tech_description": "Alternative ML framework",
            "required_years_of_experience": null,
            "priority": "nice_to_have"
        },
        {
            "tech_type": "Docker/Kubernetes",
            "tech_description": "Container orchestration and deployment",
            "required_years_of_experience": null,
            "priority": "nice_to_have"
        },
        {
            "tech_type": "Spark",
            "tech_description": "Distributed computing framework",
            "required_years_of_experience": null,
            "priority": "nice_to_have"
        }
    ],
    "requirements": [
        {
            "requirement_type": "required",
            "required_years_of_experience": 7,
            "requirement_description": "Hands-on experience in machine learning and software development"
        },
        {
            "requirement_type": "required",
            "required_years_of_experience": null,
            "requirement_description": "Master's degree in Computer Science, Machine Learning, or related field"
        },
        {
            "requirement_type": "required",
            "required_years_of_experience": null,
            "requirement_description": "Strong background in PyTorch or TensorFlow/Keras frameworks"
        },
        {
            "requirement_type": "required",
            "required_years_of_experience": null,
            "requirement_description": "Expertise in Python and experience with Java/Scala for production systems"
        },
        {
            "requirement_type": "required",
            "required_years_of_experience": null,
            "requirement_description": "Track record of deploying ML models to production using MLOps practices"
        },
        {
            "requirement_type": "nice_to_have",
            "required_years_of_experience": null,
            "requirement_description": "Experience with AWS/GCP/Azure ML services"
        },
        {
            "requirement_type": "nice_to_have",
            "required_years_of_experience": null,
            "requirement_description": "Knowledge of React.js/Node.js for full-stack development"
        },
        {
            "requirement_type": "nice_to_have",
            "required_years_of_experience": null,
            "requirement_description": "Background in healthcare or medical imaging"
        },
        {
            "requirement_type": "nice_to_have",
            "required_years_of_experience": null,
            "requirement_description": "Experience with distributed computing frameworks (Spark/Dask)"
        }
    ]
}
